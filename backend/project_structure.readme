healthcare-diagnostic-backend/
│
├── app/
│   ├── __init__.py
│   ├── main.py                          # FastAPI application entry point
│   │
│   ├── core/
│   │   ├── __init__.py
│   │   ├── config.py                    # Configuration management
│   │   ├── dependencies.py              # FastAPI dependencies
│   │   ├── exceptions.py                # Custom exceptions
│   │   └── logging.py                   # Logging configuration
│   │
│   ├── api/
│   │   ├── __init__.py
│   │   ├── v1/
│   │   │   ├── __init__.py
│   │   │   ├── routes.py                # API route aggregator
│   │   │   ├── endpoints/
│   │   │   │   ├── __init__.py
│   │   │   │   ├── chat.py             # Chat endpoints
│   │   │   │   ├── images.py           # Image upload endpoints
│   │   │   │   ├── reports.py          # Report endpoints
│   │   │   │   └── health.py           # Health check
│   │   │   └── schemas/
│   │   │       ├── __init__.py
│   │   │       ├── chat.py             # Chat request/response models
│   │   │       ├── images.py           # Image models
│   │   │       └── reports.py          # Report models
│   │
│   ├── services/
│   │   ├── __init__.py
│   │   ├── llm/
│   │   │   ├── __init__.py
│   │   │   ├── gemini_service.py       # Gemini LLM integration
│   │   │   ├── prompt_templates.py     # Prompt engineering
│   │   │   └── cache_manager.py        # LangChain caching
│   │   ├── cv/
│   │   │   ├── __init__.py
│   │   │   ├── cv_model_service.py     # CV model integration
│   │   │   ├── skin_analyzer.py        # Skin disease analysis
│   │   │   └── oral_analyzer.py        # Oral health analysis
│   │   ├── storage/
│   │   │   ├── __init__.py
│   │   │   ├── firestore_service.py    # Firestore operations
│   │   │   └── gcs_service.py          # Cloud Storage operations
│   │   └── validation/
│   │       ├── __init__.py
│   │       └── image_validator.py      # Image validation service
│   │
│   ├── security/
│   │   ├── __init__.py
│   │   ├── guardrails/
│   │   │   ├── __init__.py
│   │   │   ├── input_guardrails.py     # Input validation & safety
│   │   │   ├── output_guardrails.py    # Output validation
│   │   │   ├── image_guardrails.py     # Image safety checks
│   │   │   └── medical_guardrails.py   # Medical-specific rules
│   │   ├── auth/
│   │   │   ├── __init__.py
│   │   │   ├── jwt_handler.py          # JWT token handling
│   │   │   └── firebase_auth.py        # Firebase authentication
│   │   ├── rate_limiter.py             # Rate limiting
│   │   └── encryption.py               # Data encryption utilities
│   │
│   ├── utils/
│   │   ├── __init__.py
│   │   ├── metadata_extractor.py       # Extract patient metadata
│   │   ├── image_processor.py          # Image processing utilities
│   │   └── report_generator.py         # Report generation
│   │
│   └── models/
│       ├── __init__.py
│       ├── enums.py                    # Enums (Status, Severity, etc.)
│       └── database.py                 # Database models
│
├── tests/
│   ├── __init__.py
│   ├── conftest.py                     # Pytest configuration
│   ├── unit/
│   │   ├── test_guardrails.py
│   │   ├── test_llm_service.py
│   │   ├── test_cv_service.py
│   │   └── test_validators.py
│   ├── integration/
│   │   ├── test_api_endpoints.py
│   │   └── test_full_workflow.py
│   └── load/
│       └── locustfile.py               # Load testing
│
├── scripts/
│   ├── setup_gcp.sh                    # GCP setup script
│   ├── deploy.sh                       # Deployment script
│   └── run_tests.sh                    # Test runner
│
├── docker/
│   ├── Dockerfile                      # Production Dockerfile
│   ├── Dockerfile.dev                  # Development Dockerfile
│   └── docker-compose.yml              # Local development
│
├── .github/
│   └── workflows/
│       ├── ci.yml                      # CI pipeline
│       └── deploy.yml                  # Deployment pipeline
│
├── docs/
│   ├── API.md                          # API documentation
│   ├── ARCHITECTURE.md                 # Architecture overview
│   └── DEPLOYMENT.md                   # Deployment guide
│
├── .env.example                        # Environment template
├── .gitignore
├── requirements.txt                    # Python dependencies
├── requirements-dev.txt                # Development dependencies
├── pytest.ini                          # Pytest configuration
├── cloudbuild.yaml                     # Cloud Build configuration
└── README.md                           # Project readme